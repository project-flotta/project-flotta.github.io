<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="513px" preserveAspectRatio="none" style="width:399px;height:513px;background:#FFFFFF;" version="1.1" viewBox="0 0 399 513" width="399px" zoomAndPan="magnify"><defs/><g><!--MD5=[30afa6242ed7a9da9c35c8eba5ba651d]
cluster Kubernetes--><g id="cluster_Kubernetes"><rect height="354" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="354" x="7" y="7"/><path d="M110,7 L110,16.2969 L100,26.2969 L7,26.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="10" y="20.9951">Kubernetes</text></g><!--MD5=[d381e6152f6bf88e62ece4b16fa98976]
cluster Edge Device--><g id="cluster_Edge Device"><rect height="97" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="156" x="110" y="410"/><path d="M217,410 L217,419.2969 L207,429.2969 L110,429.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="113" y="423.9951">Edge Device</text></g><!--MD5=[0050c6625e3b42e2857ba4d8ed699679]
entity operator--><g id="elem_operator"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="23.5" y="42"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="146.5" y="47"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.5" y="49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="38.5" y="74.9951">Flotta Operator</text></g><!--MD5=[5fb2d01be3bc6d42cbc5b2c713ee9994]
entity edgeAPI--><g id="elem_edgeAPI"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="201.5" y="42"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="324.5" y="47"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="322.5" y="49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="322.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="216.5" y="74.9951">Flotta Edge API</text></g><!--MD5=[8687e376a85d0f6c7ac33d2e69747da1]
entity buckets--><g id="elem_buckets"><path d="M25.5,175 C25.5,165 105,165 105,165 C105,165 184.5,165 184.5,175 L184.5,200.2969 C184.5,210.2969 105,210.2969 105,210.2969 C105,210.2969 25.5,210.2969 25.5,200.2969 L25.5,175 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M25.5,175 C25.5,185 105,185 105,185 C105,185 184.5,185 184.5,175 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="35.5" y="201.9951">Object Bucket Claim</text></g><!--MD5=[6c7192638421eaf134d201765ac5db29]
entity S3--><g id="elem_S3"><ellipse cx="105" cy="316" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="96" y="345.9951">S3</text></g><!--MD5=[27c74c040bb721c92ccc79d4667f8209]
entity deviceAgent--><g id="elem_deviceAgent"><polygon fill="#F1F1F1" points="126.5,455,136.5,445,249.5,445,249.5,481.2969,239.5,491.2969,126.5,491.2969,126.5,455" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="239.5" x2="249.5" y1="455" y2="445"/><line style="stroke:#181818;stroke-width:0.5;" x1="126.5" x2="239.5" y1="455" y2="455"/><line style="stroke:#181818;stroke-width:0.5;" x1="239.5" x2="239.5" y1="455" y2="491.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="141.5" y="477.9951">Flotta Agent</text></g><!--MD5=[8b5b8df0af2ab123d31cb7abb2a4c153]
link buckets to S3--><g id="link_buckets_S3"><path d="M105,215.46 C105,241.91 105,281.15 105,301.56 " fill="none" id="buckets-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105,306.79,109,297.79,105,301.79,101,297.79,105,306.79" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105,210.25,101,219.25,105,215.25,109,219.25,105,210.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="106" y="253.0669">API</text></g><!--MD5=[9c8f04179efa8793b6e0a74714c1f60a]
link deviceAgent to S3--><g id="link_deviceAgent_S3"><path d="M146.08,441.93 C129.75,429.72 112.86,413.45 104,394 C94.53,373.23 98.14,345.92 101.59,330.03 " fill="none" id="deviceAgent-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="102.73,325.11,96.802,332.975,101.6015,329.981,104.5955,334.7806,102.73,325.11" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="150.21,444.94,145.2876,436.4094,146.1676,441.9974,140.5796,442.8774,150.21,444.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="105" y="390.0669">Upload/Download files</text></g><!--MD5=[35535487e94148a9835b7cdfddf6db5c]
reverse link edgeAPI to deviceAgent--><g id="link_edgeAPI_deviceAgent"><path d="M276.61,93.17 C283.13,151.01 292.56,289.58 250,394 C242.03,413.56 226.71,431.67 213.29,444.97 " fill="none" id="edgeAPI-backto-deviceAgent" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="276.03,88.15,273.0839,97.5479,276.601,93.1173,281.0316,96.6344,276.03,88.15" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="281" y="253.0669">Get configuration</text></g><!--MD5=[19ee8817b817879544d9517966b1c6d1]
link operator to buckets--><g id="link_operator_buckets"><path d="M96.83,88.1 C98.52,108.36 101.01,138.38 102.8,159.93 " fill="none" id="operator-to-buckets" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="103.21,164.94,106.451,155.6397,102.796,159.9572,98.4785,156.3021,103.21,164.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="102" y="131.0669">Provision</text></g><!--MD5=[105ddb19de1f1a63aea22e9ca14918a2]
@startuml

frame Kubernetes {
    component "Flotta Operator" as operator
    component "Flotta Edge API" as edgeAPI
    database "Object Bucket Claim" as buckets
    interface S3
}

frame "Edge Device" {
    node "Flotta Agent" as deviceAgent
}

buckets <- -> S3: API
deviceAgent <- -> S3: Upload/Download files
deviceAgent -up- - -> edgeAPI : Get configuration

operator - -> buckets: Provision

@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>