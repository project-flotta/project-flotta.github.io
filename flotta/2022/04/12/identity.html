<!DOCTYPE html>
<html lang="en">

<head>
  <script id="dpal" src="//www.redhat.com/ma/dpal.js" type="text/javascript"></script>
  <meta charset="utf-8">
  <title>How Flotta project proofs identity on the far edge</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this is meta description">

  

  <!-- ** Plugins Needed for the Project ** -->
  
  <link rel="stylesheet" href="/assets/plugins/bootstrap/bootstrap.min.css">
  
  <link rel="stylesheet" href="/assets/plugins/themify-icons/themify-icons.css">
  
  <link rel="stylesheet" href="/assets/plugins/slick/slick.css">
  

  <link href="/assets/scss/syntax_monokai.css" rel="stylesheet">
  <!-- Main Stylesheet -->
  <link href="/assets/scss/style.css" rel="stylesheet">

  <!--Favicon-->
  <link rel="shortcut icon" href="/assets/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="/assets/images/flotta-logo-stacked.ico " type="image/x-icon">

  <!-- google analytics -->
  

</head>


<body>

  <header class="navigation fixed-top nav-bg">
  <nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand font-tertiary h3" href="/">
      
        <img src="/assets/images/flotta-logo.png" alt="Project Flotta" style="height: 60px;">
        
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/">Home</a>
        </li>
        
          <li class="nav-item ">
            <a class="nav-link" href="/blog.html">Blog</a>
          </li>
        
          <li class="nav-item ">
            <a class="nav-link" href="/documentation/v0_2_0/intro/overview.html">Documentation</a>
          </li>
        
      </ul>
    </div>
  </nav>
</header>


  <section class="section skip_top">
  <div class="container documentation">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="font-tertiary mb-5">How Flotta project proofs identity on the far edge</h1>
        <p class="font-secondary">Published on Apr 12, 2022 by <span class="text-primary">Eloy Coto <eloy.coto@acalustra.com></span
            class="text-primary"> on <span>authentication </span><span>flotta </span></p>
        <div class="content">
          

          <p>When speaking about the edge the most problematic thing is the security. At the
edge, you cannot assume there is security at all, so we assume that all your
devices are compromised by default and we adopt a <a href="https://cloud.google.com/beyondcorp">Zero
trust</a> approach.</p>

<p>Edge Authentication is getting traction, and at the moment, there are multiple
projects out there that take care of it. The most promising one to us is
<a href="https://fidoalliance.org/specs/FDO/FIDO-Device-Onboard-RD-v1.0-20201202.html">FDO</a>,
protocol-driven Device Onboarding project by <a href="https://fidoalliance.org/">FIDO
alliance</a>.That protocol is to onboard new devices to
the fleet of devices, but making sure that it’s taking place at manufacturer
level with the approval of the edge-administrator. To get more information, we
highly recommend this
<a href="https://www.youtube.com/watch?v=fAGCkenbKCA&amp;ab_channel=DevConf">presentation</a>.</p>

<p>Flotta will use FDO for initialization, but regarding edge security there are
more steps than that, like TLS Certificate renewals, certificates expiration
and much more, for that Flotta has some flows in place.</p>

<h2 id="device-onboarding">Device Onboarding</h2>

<p>Right now, Flotta uses <a href="https://en.wikipedia.org/wiki/Mutual_authentication">Mutual
TLS</a> certificates to
onboard new devices to the Operator. That certificate will be injected into the
ISO creation using kickstart files where Manufacturer or Edge administrator can
initialise the device. That ISO is managed by the Flotta OS lifecycle.</p>

<p>When the device boots on the final destination, it uses that Register
certificate to register (the only action that can do with that certificate);
such API call also contains a Certificate signed Request, needed to get the
device public key to be able to sign it and returned to the device. That
certificate can only be obtained if the Edge-administrator approves the device
to register first.</p>

<p>To avoid security issues with that certificates, Flotta will implement TPM keys
for that certificates, even if someone has access to the certificate, it cannot
be used outside of the device. At the same time, in the API a new security
check will be added so that only devices with a Key TPM based can be registered.</p>

<h2 id="authentication">Authentication</h2>

<p>When designing the authentication system in Flotta we knew that there are some
special cases: Edge network is not reliable, devices can be turned off for a
long period of time, the API Server should scale horizontally to be able to
server to millions of devices. Because of all of this, we implement an MTLS
certificate where API should only get the CA certificate and validate that the
client certificate is correctly signed.</p>

<p>Those client certificates have a short expiration because Flotta also
implements a way to renew those certificates, to make sure that a edge device
is able to run a workload if a certificate is expired.</p>

<h2 id="authorization">Authorization</h2>

<p>To continue our work at scale, where Flotta wants to achieve millions of
devices, the authorization is made on client certificate. Because the
Certificate signing is made by Flotta, so the API is scaling horizontally and
validation can happen on any API server.</p>

<p>All information needed to make any authorization is provided by metadata stored
in the certificate subject - there is no need to reach to any RBAC server.</p>

<p>To try the device onboarding connection, you can follow the getting started
guide that is available
<a href="https://github.com/project-flotta/flotta-operator/blob/main/docs/user-guide/running.md">here</a>.</p>

        </div>
      </div>
    </div>
  </div>
</section>



<!-- blog -->
<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="section-title">Similar Stories</h2>
      </div>
      
      <div class="col-lg-4 col-sm-6 mb-4">
  <article class="card shadow">
    
    <div class="card-body">
      <h4 class="card-title">
        <a class="text-dark" href="/flotta/2022/09/28/run-ansible-playbooks.html">Running Ansible Playbooks on Edge Devices</a>
      </h4>
      <p class="card-text">There may be cases in which you would like to be able to execute a scripts or commands in a device or on a group of devices. For example, in...</p>
      <a href="/flotta/2022/09/28/run-ansible-playbooks.html" class="btn btn-xs btn-primary">Read More</a>
    </div>
  </article>
</div>

      
      <div class="col-lg-4 col-sm-6 mb-4">
  <article class="card shadow">
    
    <div class="card-body">
      <h4 class="card-title">
        <a class="text-dark" href="/flotta/2022/09/05/edge-example-app-sense-the-internet-part-2.html">Edge Example App: Sense the Internet Part 2</a>
      </h4>
      <p class="card-text">Edge Example App is an app for Flotta Edge devices, with a workload that will be deployed on the device that has two main features: Sensing the Internet (which helps...</p>
      <a href="/flotta/2022/09/05/edge-example-app-sense-the-internet-part-2.html" class="btn btn-xs btn-primary">Read More</a>
    </div>
  </article>
</div>

      
      <div class="col-lg-4 col-sm-6 mb-4">
  <article class="card shadow">
    
    <div class="card-body">
      <h4 class="card-title">
        <a class="text-dark" href="/flotta/2022/09/05/edge-example-app-cpu-temp.html">Edge Example App: CPU Temperature</a>
      </h4>
      <p class="card-text">Edge Example App is an app for Flotta Edge devices, with a workload that will be deployed on the device that has two main features:
</p>
      <a href="/flotta/2022/09/05/edge-example-app-cpu-temp.html" class="btn btn-xs btn-primary">Read More</a>
    </div>
  </article>
</div>

      
    </div>
  </div>
</section>
<!-- /blog -->


  <!-- footer -->
<footer class="bg-dark footer-section">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5 class="text-light">Email</h5>
          <p class="text-white paragraph-lg font-secondary">flotta@redhat.com</p>
        </div>
        <div class="col-md-4">
          <h5><a href="http://www.redhat.com"><img id="sponsorship" class="footerLogo" src="/assets/images/Logo-Red_Hat-Supported_By-A-Reverse-RGB.svg"></a>.</h5>
        </div>
        <!-- <div class="col-md-4"> -->
        <!--   <h5 class="text-light">Address</h5> -->
        <!--   <p class="text-white paragraph-lg font-secondary"></p> -->
        <!-- </div> -->
      </div>
    </div>
  </div>
  <div class="border-top text-center border-dark py-5">
    <p class="mb-0 text-light"><p>Copyright © 2020 Designed by <a href="https://themefisher.com">Themefisher</a> &amp; Developed by <a href="https://getjekyllthemes.com">Getjekyllthemes</a></p>
</p>
  </div>
</footer>
<!-- /footer -->


<!-- JS Plugins -->

<script src="/assets/plugins/jQuery/jquery.min.js"></script>

<script src="/assets/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/assets/plugins/shuffle/shuffle.min.js"></script>

<script src="/assets/plugins/slick/slick.min.js"></script>


<!-- Main Script -->
<script src="/assets/js/script.js"></script>

<!-- This comes from DTM/DPAL and must be latest entry in body-->
<script type="text/javascript">
  if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
      _satellite.pageBottom();
  }
</script>


<script>
  $(function() {
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="ti-link"></i>';
      console.log("test test"+id)
      if (id) {
        return $el.prepend($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });
</script>


</body>

</html>
